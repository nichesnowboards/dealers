{"version":3,"sources":["logo.png","components/Header.js","components/PostItem.js","components/Posts.js","components/GeoLookup.js","components/Map.js","components/Dealers.js","utils.js","reportWebVitals.js","index.js"],"names":["Header","src","logo","alt","Component","MONTH_NAMES","PostItem","state","imgUrl","author","created","this","props","post","featured_media","date","getImageUrl","axios","get","getAuthor","Date","Promise","all","then","res","console","log","setState","data","media_details","sizes","full","source_url","name","isLoaded","day","getDate","month","getMonth","title","excerpt","className","rendered","dangerouslySetInnerHTML","__html","Posts","posts","catch","err","map","id","GeoLookup","userLocation","userRadius","showForm","search","showSearchForm","bind","setValue","handleSubmit","useMyLocation","getDistance","onUpdate","event","target","value","location","onClick","onSubmit","placeholder","onChange","type","Map","document","getElementById","center","lat","lng","zoom","DealerInfo","dealer","website","street","city","postal_code","phone","href","rel","Dealers","dealers","filteredDealers","searchDealers","initMap","filterDealers","dealerLocations","getUserLocation","_","window","scriptToAppend","script","createElement","async","body","appendChild","appendScript","geocoder","google","maps","Geocoder","form","FormData","geocode","preventDefault","callback","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","query","sort","dealerDistance","filter","distance","d","getDistanceFromLatLonInKm","Number","a","b","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","Math","sin","cos","atan2","sqrt","deg","PI","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","path","element"],"mappings":"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","file":"static/js/main.23252ad7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9e90c648.png\";","import React, { Component } from 'react'\nimport logo from '../logo.png';\nimport './Header.css'\n\nexport class Header extends Component {\n  render() {\n    return (\n      <header>\n        <img src={logo} alt=\"Logo\" />\n      </header>\n    )\n  }\n}\n\nexport default Header\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport PropTypes from 'prop-types'\n\nconst MONTH_NAMES = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\nexport class PostItem extends Component {\n  state = {\n    imgUrl: '',\n    author: '',\n    created: {}\n  }\n  static propTypes = {\n    post: PropTypes.object.isRequired\n  }\n  componentDidMount () {\n    const {featured_media, author, date} = this.props.post;\n    const getImageUrl = axios.get(`https://nichesnowboards.com/wp-json/wp/v2/media/${featured_media}`);\n    const getAuthor = axios.get(`https://nichesnowboards.com/wp-json/wp/v2/users/${author}`);\n    const created = new Date(date);\n\n    Promise.all([getImageUrl, getAuthor]).then(res => {\n      console.log(created);\n      this.setState({\n        imgUrl: res[0].data.media_details.sizes.full.source_url,\n        author: res[1].data.name,\n        isLoaded: true,\n        created: {\n          day: created.getDate(),\n          month: MONTH_NAMES[created.getMonth()]\n        }\n      });\n    });\n  }\n  render() {\n    const { title, excerpt } = this.props.post;\n    const {author, imgUrl, created} = this.state;\n    return (\n      <div className=\"post\">\n        <div className=\"created\">\n          <span className=\"day\">{created.day}</span>\n          <span className=\"month\">{created.month}</span>\n        </div>\n        <img src={imgUrl} alt={title.rendered}/>\n        <div className=\"content\">\n          <h2 dangerouslySetInnerHTML={{__html: title.rendered}}></h2>\n          <div className=\"meta\">\n            <p>by {author}</p>\n          </div>\n          <div dangerouslySetInnerHTML={{__html: excerpt.rendered}}></div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PostItem\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport PostItem from './PostItem'\nimport './Posts.css'\n\nexport class Posts extends Component {\n   state = {\n       posts: []\n   }\n componentDidMount () {\n   const restPrefix = 'https://nichesnowboards.com/wp-json'\n   // const restPrefix = 'http://localhost:8000/?rest_route='\n   axios.get(`${restPrefix}/wp/v2/posts/`)\n       .then(res => this.setState({\n           posts: res.data,\n           isLoaded: true\n       }))\n       .catch(err => console.log(err))\n   }\n   render() {\n      const {posts} = this.state;\n       return (\n           <div className=\"posts\">\n             {posts.map(post =>\n               <PostItem key={post.id} post={post}/>\n              )}\n           </div>\n       )\n   }\n}\n\nexport default Posts\n","import React, { Component } from 'react'\n\nexport class GeoLookup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userLocation: props.userLocation,\n      userRadius: props.userRadius,\n      showForm: false,\n      search: ''\n    }\n    this.showSearchForm = this.showSearchForm.bind(this);\n    this.setValue = this.setValue.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.useMyLocation = this.useMyLocation.bind(this);\n    this.getDistance = props.onUpdate;\n  }\n  showSearchForm() {\n    this.setState({ showForm: !this.state.showForm })\n  }\n  setValue(event) {\n    this.setState({ search: event.target.value})\n  }\n  handleSubmit(event) {\n    this.showSearchForm();\n    console.log('submit')\n    this.getDistance(event);\n  }\n  useMyLocation() {\n    console.log('use my location')\n    this.getDistance(this.state.userLocation);\n    this.setState({ search: '' });\n    this.showSearchForm();\n  }\n  render() {\n    const { userLocation, userRadius, showForm, search } = this.state;\n    if(userLocation && !showForm) {\n      let location = 'my location'\n      if (search) location = search;\n      return (\n        <div className=\"search-results\">\n          <p>Showing results within {userRadius} mi of {location}</p>\n          <button onClick={this.showSearchForm} className=\"link\">Change Location</button>\n        </div>\n      )\n    }\n    return (\n      <div className=\"search\">\n        <form className=\"input-group\" onSubmit={this.handleSubmit}>\n          <input placeholder=\"Enter City, State or Zipcode\" name=\"search\" value={search} onChange={this.setValue}  />\n          <button type=\"submit\" className=\"button\">Search</button>\n        </form>\n        <button onClick={this.useMyLocation} className=\"link\">Use My Location</button>\n      </div>\n    )\n  }\n}\n\nexport default GeoLookup\n","import React, { Component } from 'react'\n\nexport class Map extends Component {\n  constructor(props) {\n    super(props);\n    this.map = props.map;\n  }\n  componentDidMount() {\n    new this.map(document.getElementById(\"map\"), {\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n    });\n  }\n  render() {\n    return (\n      <div id=\"map\"></div>\n    )\n  }\n}\n\nexport default Map\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport './Dealers.css'\nimport GeoLookup from './GeoLookup'\nimport Map from './Map'\nimport {appendScript} from '../utils.js'\n\nconst MAPS_API_KEY = 'AIzaSyBqv3DuV0eHjDCdOS48ltt62fYjfv55_YQ'\n\nfunction DealerInfo({dealer}) {\n  if (!dealer.website) {\n    return (\n      <div>\n        <h2>{dealer.title}</h2>\n        <p>{dealer.street}, {dealer.city}, {dealer.state} {dealer.postal_code}</p>\n        <p>{dealer.phone}</p>\n      </div>\n    )\n  }\n  return (\n    <div>\n      <h2>{dealer.title}</h2>\n      <p>{dealer.street}, {dealer.city}, {dealer.state} {dealer.postal_code}</p>\n      <p>{dealer.phone}</p>\n      <div className=\"actions\">\n        <a href={dealer.website} target=\"_blank\" rel=\"noreferrer\" className=\"button\">Website</a>\n      </div>\n    </div>\n  )\n}\nexport class Dealers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dealers: [],\n      filteredDealers: [],\n      isLoaded: false,\n      search: '',\n      userLocation: {},\n      userRadius: 500\n    }\n    this.searchDealers = this.searchDealers.bind(this);\n    this.initMap = this.initMap.bind(this);\n    this.filterDealers = this.filterDealers.bind(this);\n    this.dealerLocations = this.dealerLocations.bind(this);\n  }\n\n  componentDidMount() {\n    const restPrefix = 'https://nichesnowboards.com/wp-json'\n    // const restPrefix = 'http://localhost:8000/?rest_route='\n    axios.get(`${restPrefix}/dealerlocator/v1/dealers/`)\n      .then(res => {\n        this.setState({\n          dealers: res.data,\n          isLoaded: false\n        })\n        this.getUserLocation(_ => {\n          this.filterDealers();\n        });\n      })\n      .catch(err => console.log(err))\n      window.initMap = this.initMap;\n      appendScript(`https://maps.googleapis.com/maps/api/js?key=${MAPS_API_KEY}&callback=initMap&v=weekly`)\n  }\n\n  initMap() {\n    this.geocoder = window.google.maps.Geocoder;\n    this.map = window.google.maps.Map;\n  }\n\n  geocoder() {}\n\n  map() {}\n\n   searchDealers(event) {\n     if (event.target) {\n       const form = new FormData(event.target);\n       this.setState({search: form.get('search')});\n       const geocoder = new this.geocoder();\n       geocoder.geocode({'address':form.get('search')}, (res) => {\n         console.log(res)\n       })\n       this.filterDealers(form.get('search'));\n       event.preventDefault();\n     } else {\n       this.setState({search: ''});\n       this.filterDealers(this.userLocation);\n     }\n   }\n\n  getUserLocation(callback) {\n    if('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.setState({\n          userLocation: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          }\n        });\n        this.setState({ isLoaded: true })\n        callback()\n      });\n    } else {\n      /* geolocation IS NOT available */\n      this.setState({ isLoaded: true })\n    }\n  }\n\n   filterDealers(query) {\n     const { dealers, userRadius, search } = this.state;\n     console.log('filterDealers:search string', search)\n     const filteredDealers = dealers\n      .map(this.dealerLocations.bind(this, query))\n      .sort(this.dealerDistance)\n      .filter(({ distance }) => {\n         return distance < (userRadius * 1.6)\n       });\n     this.setState({\n       filteredDealers\n     });\n   }\n\n   dealerLocations(query, d) {\n     const { userLocation } = this.state;\n     let location = userLocation;\n     if (query) {\n       location = ''\n     }\n     return {\n       ...d,\n       distance: this.getDistanceFromLatLonInKm(\n        Number(d.lat),\n        Number(d.lng),\n        location.lat,\n        location.lng\n      )\n     }\n   }\n\n   dealerDistance(a, b) {\n     if (Number(a.distance) < Number(b.distance)) {\n       return -1;\n     }\n     if (Number(a.distance) > Number(b.distance)) {\n       return 1;\n     }\n     return 0;\n   }\n\n   getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n     var R = 6371; // Radius of the earth in km\n     var dLat = this.deg2rad(lat2-lat1);  // this.deg2rad below\n     var dLon = this.deg2rad(lon2-lon1);\n     var a =\n       Math.sin(dLat/2) * Math.sin(dLat/2) +\n       Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\n       Math.sin(dLon/2) * Math.sin(dLon/2)\n       ;\n     var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n     var d = R * c; // Distance in km\n     return d;\n   }\n\n   deg2rad(deg) {\n     return deg * (Math.PI/180)\n   }\n\n   render() {\n      const {userLocation, userRadius, filteredDealers, isLoaded} = this.state;\n      if (isLoaded) {\n        return (\n           <div className=\"dealers\">\n              <Map map={this.map} />\n              <div className=\"list\">\n                <h1>Find A Dealer</h1>\n                <GeoLookup userLocation={userLocation} userRadius={userRadius} onUpdate={this.searchDealers} />\n               {filteredDealers.map(dealer =>\n                 <div key={dealer.id} className=\"dealer\">\n                  <DealerInfo dealer={dealer} />\n                 </div>\n                )}\n              </div>\n           </div>\n        )\n     } else {\n       return (\n         <div className=\"loading\">Loading...</div>\n       )\n     }\n   }\n}\n\nexport default Dealers\n","export const appendScript = (scriptToAppend) => {\n    const script = document.createElement(\"script\");\n    script.src = scriptToAppend;\n    script.async = true;\n    document.body.appendChild(script);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route\n} from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './App.css';\nimport Header from './components/Header';\nimport Posts from './components/Posts';\nimport Dealers from './components/Dealers';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Header />\n      <div className=\"app\">\n        <Routes>\n          <Route path=\"/posts\" element={<Posts />} />\n          <Route path=\"/dealers\" element={<Dealers />} />\n          <Route path=\"/\" element={<Posts />} />\n        </Routes>\n      </div>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}